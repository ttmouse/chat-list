<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯æœ¯åŠ©æ‰‹è°ƒè¯•</title>
    <link rel="stylesheet" href="content.css">
    <style>
        body {
            margin: 20px;
            font-family: Arial, sans-serif;
        }
        .debug-info {
            background: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="debug-info">
        <h3>è¯æœ¯åŠ©æ‰‹è°ƒè¯•é¡µé¢</h3>
        <p>ç”¨äºæµ‹è¯•ç®¡ç†é¢æ¿çš„æ˜¾ç¤ºé—®é¢˜</p>
        <button class="test-button" onclick="showWidget()">æ˜¾ç¤ºè¯æœ¯åŠ©æ‰‹</button>
        <button class="test-button" onclick="showManagePanel()">ç›´æ¥æ˜¾ç¤ºç®¡ç†é¢æ¿</button>
        <button class="test-button" onclick="checkElements()">æ£€æŸ¥å…ƒç´ </button>
    </div>

    <div id="chat-list-widget" style="display: block; position: relative; width: 350px; height: 500px; border: 1px solid #ccc;">
        <div class="widget-header">
            <span class="widget-title">è¯æœ¯åŠ©æ‰‹ <span class="version">v1.1.0</span></span>
            <div class="widget-controls">
                <button class="btn-manage" title="ç®¡ç†è¯æœ¯"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.85643 16.1891C5.59976 15.8149 4.48117 15.1203 3.59545 14.1999C3.92587 13.8083 4.125 13.3023 4.125 12.7499C4.125 11.5072 3.11764 10.4999 1.875 10.4999C1.79983 10.4999 1.72552 10.5036 1.65225 10.5108C1.55242 10.0227 1.5 9.51743 1.5 8.99986C1.5 8.21588 1.62029 7.45999 1.84342 6.74963C1.85393 6.74978 1.86446 6.74986 1.875 6.74986C3.11764 6.74986 4.125 5.74249 4.125 4.49986C4.125 4.14312 4.04197 3.80581 3.89422 3.50611C4.76156 2.69963 5.82019 2.09608 6.99454 1.771C7.36665 2.50039 8.12501 2.99987 9 2.99987C9.87499 2.99987 10.6334 2.50039 11.0055 1.771C12.1798 2.09608 13.2384 2.69963 14.1058 3.50611C13.958 3.80581 13.875 4.14312 13.875 4.49986C13.875 5.74249 14.8824 6.74986 16.125 6.74986C16.1355 6.74986 16.1461 6.74978 16.1566 6.74963C16.3797 7.45999 16.5 8.21588 16.5 8.99986C16.5 9.51743 16.4476 10.0227 16.3478 10.5108C16.2745 10.5036 16.2002 10.4999 16.125 10.4999C14.8824 10.4999 13.875 11.5072 13.875 12.7499C13.875 13.3023 14.0741 13.8083 14.4045 14.1999C13.5188 15.1203 12.4002 15.8149 11.1436 16.1891C10.8535 15.2818 10.0035 14.6249 9 14.6249C7.9965 14.6249 7.14645 15.2818 6.85643 16.1891Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/><path d="M9 11.625C10.4497 11.625 11.625 10.4497 11.625 9C11.625 7.55025 10.4497 6.375 9 6.375C7.55025 6.375 6.375 7.55025 6.375 9C6.375 10.4497 7.55025 11.625 9 11.625Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/></svg></button>
                <button class="btn-toggle" title="æ”¶èµ·/å±•å¼€">ğŸ“‹</button>
                <button class="btn-close" title="å…³é—­"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/><path d="M11.1211 6.87891L6.87842 11.1215" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.87891 6.87891L11.1215 11.1215" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
            </div>
        </div>
        <div class="widget-content">
            <div class="group-tabs">
                <div class="group-tab active" data-group="all">å…¨éƒ¨</div>
                <div class="group-tab" data-group="greeting" style="border-left: 3px solid #4CAF50">é—®å€™è¯­</div>
                <div class="group-tab" data-group="service" style="border-left: 3px solid #2196F3">æœåŠ¡è¯æœ¯</div>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="æœç´¢è¯æœ¯..." />
                <button class="btn-clear-search" title="æ¸…é™¤æœç´¢">Ã—</button>
            </div>
            <div class="script-list">
                <div class="script-item" data-id="1">
                    <div class="script-header">
                        <div class="script-title">æ¬¢è¿è¯­</div>
                        <div class="script-actions">
                            <button class="btn-edit" title="ç¼–è¾‘"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 9.75V15C15.75 15.4142 15.4142 15.75 15 15.75H3C2.58579 15.75 2.25 15.4142 2.25 15V3C2.25 2.58579 2.58579 2.25 3 2.25H8.25" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M5.25 10.02V12.75H7.99395L15.75 4.99054L13.0107 2.25L5.25 10.02Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/></svg></button>
                            <button class="btn-delete" title="åˆ é™¤"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 5.625H15L13.875 16.5H4.125L3 5.625Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/><path d="M7.50098 9.37598V13.1261" stroke="#333333" stroke-width="0.75" stroke-linecap="round"/><path d="M10.501 9.375V13.1241" stroke="#333333" stroke-width="0.75" stroke-linecap="round"/><path d="M4.5 5.62496L10.6216 1.125L13.5 5.625" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                        </div>
                    </div>
                    <div class="script-content">æ‚¨å¥½ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ</div>
                    <div class="script-group" style="color: #4CAF50">é—®å€™è¯­</div>
                </div>
            </div>
            <div class="widget-actions">
                <button class="btn-add-script">+ æ·»åŠ è¯æœ¯</button>
            </div>
        </div>
        <div class="manage-panel" style="display: none;">
            <div class="manage-header">
                <span>è¯æœ¯ç®¡ç†</span>
                <button class="btn-close-manage"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z" stroke="#333333" stroke-width="0.75" stroke-linejoin="round"/><path d="M11.1211 6.87891L6.87842 11.1215" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.87891 6.87891L11.1215 11.1215" stroke="#333333" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
            </div>
            <div class="manage-content">
                <div class="group-management">
                    <h4>åˆ†ç»„ç®¡ç†</h4>
                    <div class="group-list">
                        <div class="group-item">
                            <span class="group-color" style="background: #4CAF50"></span>
                            <span class="group-name">é—®å€™è¯­</span>
                            <button class="btn-edit-group" data-id="greeting">ç¼–è¾‘</button>
                            <button class="btn-delete-group" data-id="greeting">åˆ é™¤</button>
                        </div>
                        <div class="group-item">
                            <span class="group-color" style="background: #2196F3"></span>
                            <span class="group-name">æœåŠ¡è¯æœ¯</span>
                            <button class="btn-edit-group" data-id="service">ç¼–è¾‘</button>
                            <button class="btn-delete-group" data-id="service">åˆ é™¤</button>
                        </div>
                    </div>
                    <button class="btn-add-group">+ æ·»åŠ åˆ†ç»„</button>
                </div>
                <div class="script-management">
                    <h4>è¯æœ¯ç¼–è¾‘</h4>
                    <div class="script-form">
                        <input type="hidden" id="edit-script-id">
                        <input type="text" id="script-title" placeholder="è¯æœ¯æ ‡é¢˜">
                        <select id="script-group">
                            <option value="">é€‰æ‹©åˆ†ç»„</option>
                            <option value="greeting">é—®å€™è¯­</option>
                            <option value="service">æœåŠ¡è¯æœ¯</option>
                            <option value="closing">ç»“æŸè¯­</option>
                        </select>
                        <textarea id="script-content" placeholder="è¯æœ¯å†…å®¹"></textarea>
                        <div class="form-actions">
                            <button class="btn-save-script">ä¿å­˜</button>
                            <button class="btn-cancel-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showWidget() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            widget.style.display = 'block';
            content.style.display = 'block';
            manage.style.display = 'none';
            
            console.log('æ˜¾ç¤ºè¯æœ¯åŠ©æ‰‹');
        }
        
        function showManagePanel() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            widget.style.display = 'block';
            content.style.display = 'none';
            manage.style.display = 'block';
            
            console.log('æ˜¾ç¤ºç®¡ç†é¢æ¿');
        }
        
        function checkElements() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            console.log('Widget:', widget);
            console.log('Content display:', content.style.display);
            console.log('Manage display:', manage.style.display);
            console.log('Widget computed style:', window.getComputedStyle(widget));
            console.log('Manage computed style:', window.getComputedStyle(manage));
        }
        
        // ç»‘å®šç®¡ç†æŒ‰é’®äº‹ä»¶
        document.querySelector('.btn-manage').addEventListener('click', showManagePanel);
        document.querySelector('.btn-close-manage').addEventListener('click', showWidget);
    </script>
</body>
</html>