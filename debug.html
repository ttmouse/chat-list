<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯æœ¯åŠ©æ‰‹è°ƒè¯•</title>
    <link rel="stylesheet" href="content.css">
    <style>
        body {
            margin: 20px;
            font-family: Arial, sans-serif;
        }
        .debug-info {
            background: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="debug-info">
        <h3>è¯æœ¯åŠ©æ‰‹è°ƒè¯•é¡µé¢</h3>
        <p>ç”¨äºæµ‹è¯•ç®¡ç†é¢æ¿çš„æ˜¾ç¤ºé—®é¢˜</p>
        <button class="test-button" onclick="showWidget()">æ˜¾ç¤ºè¯æœ¯åŠ©æ‰‹</button>
        <button class="test-button" onclick="showManagePanel()">ç›´æ¥æ˜¾ç¤ºç®¡ç†é¢æ¿</button>
        <button class="test-button" onclick="checkElements()">æ£€æŸ¥å…ƒç´ </button>
    </div>

    <div id="chat-list-widget" style="display: block; position: relative; width: 350px; height: 500px; border: 1px solid #ccc;">
        <div class="widget-header">
            <span class="widget-title">è¯æœ¯åŠ©æ‰‹ <span class="version">v1.1.0</span></span>
            <div class="widget-controls">
                <button class="btn-manage" title="ç®¡ç†è¯æœ¯">âš™ï¸</button>
                <button class="btn-toggle" title="æ”¶èµ·/å±•å¼€">ğŸ“‹</button>
                <button class="btn-close" title="å…³é—­">Ã—</button>
            </div>
        </div>
        <div class="widget-content">
            <div class="group-tabs">
                <div class="group-tab active" data-group="all">å…¨éƒ¨</div>
                <div class="group-tab" data-group="greeting" style="border-left: 3px solid #4CAF50">é—®å€™è¯­</div>
                <div class="group-tab" data-group="service" style="border-left: 3px solid #2196F3">æœåŠ¡è¯æœ¯</div>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="æœç´¢è¯æœ¯..." />
                <button class="btn-clear-search" title="æ¸…é™¤æœç´¢">Ã—</button>
            </div>
            <div class="script-list">
                <div class="script-item" data-id="1">
                    <div class="script-header">
                        <div class="script-title">æ¬¢è¿è¯­</div>
                        <div class="script-actions">
                            <button class="btn-edit" title="ç¼–è¾‘">âœï¸</button>
                            <button class="btn-delete" title="åˆ é™¤">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="script-content">æ‚¨å¥½ï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ</div>
                    <div class="script-group" style="color: #4CAF50">é—®å€™è¯­</div>
                </div>
            </div>
            <div class="widget-actions">
                <button class="btn-add-script">+ æ·»åŠ è¯æœ¯</button>
            </div>
        </div>
        <div class="manage-panel" style="display: none;">
            <div class="manage-header">
                <span>è¯æœ¯ç®¡ç†</span>
                <button class="btn-close-manage">Ã—</button>
            </div>
            <div class="manage-content">
                <div class="group-management">
                    <h4>åˆ†ç»„ç®¡ç†</h4>
                    <div class="group-list">
                        <div class="group-item">
                            <span class="group-color" style="background: #4CAF50"></span>
                            <span class="group-name">é—®å€™è¯­</span>
                            <button class="btn-edit-group" data-id="greeting">ç¼–è¾‘</button>
                            <button class="btn-delete-group" data-id="greeting">åˆ é™¤</button>
                        </div>
                        <div class="group-item">
                            <span class="group-color" style="background: #2196F3"></span>
                            <span class="group-name">æœåŠ¡è¯æœ¯</span>
                            <button class="btn-edit-group" data-id="service">ç¼–è¾‘</button>
                            <button class="btn-delete-group" data-id="service">åˆ é™¤</button>
                        </div>
                    </div>
                    <button class="btn-add-group">+ æ·»åŠ åˆ†ç»„</button>
                </div>
                <div class="script-management">
                    <h4>è¯æœ¯ç¼–è¾‘</h4>
                    <div class="script-form">
                        <input type="hidden" id="edit-script-id">
                        <input type="text" id="script-title" placeholder="è¯æœ¯æ ‡é¢˜">
                        <select id="script-group">
                            <option value="">é€‰æ‹©åˆ†ç»„</option>
                            <option value="greeting">é—®å€™è¯­</option>
                            <option value="service">æœåŠ¡è¯æœ¯</option>
                            <option value="closing">ç»“æŸè¯­</option>
                        </select>
                        <textarea id="script-content" placeholder="è¯æœ¯å†…å®¹"></textarea>
                        <div class="form-actions">
                            <button class="btn-save-script">ä¿å­˜</button>
                            <button class="btn-cancel-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showWidget() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            widget.style.display = 'block';
            content.style.display = 'block';
            manage.style.display = 'none';
            
            console.log('æ˜¾ç¤ºè¯æœ¯åŠ©æ‰‹');
        }
        
        function showManagePanel() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            widget.style.display = 'block';
            content.style.display = 'none';
            manage.style.display = 'block';
            
            console.log('æ˜¾ç¤ºç®¡ç†é¢æ¿');
        }
        
        function checkElements() {
            const widget = document.getElementById('chat-list-widget');
            const content = widget.querySelector('.widget-content');
            const manage = widget.querySelector('.manage-panel');
            
            console.log('Widget:', widget);
            console.log('Content display:', content.style.display);
            console.log('Manage display:', manage.style.display);
            console.log('Widget computed style:', window.getComputedStyle(widget));
            console.log('Manage computed style:', window.getComputedStyle(manage));
        }
        
        // ç»‘å®šç®¡ç†æŒ‰é’®äº‹ä»¶
        document.querySelector('.btn-manage').addEventListener('click', showManagePanel);
        document.querySelector('.btn-close-manage').addEventListener('click', showWidget);
    </script>
</body>
</html>