<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>话术助手管理后台</title>
<style>
  :root{--c1:#293267;--b1:#fafafa;--t1:#2a2a2a;--bd:#d8d8d8}
  body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--b1);color:var(--t1);margin:0}
  .container{max-width:1000px;margin:24px auto;padding:16px;background:#fff;border:1px solid var(--bd);border-radius:12px}
  .row{display:flex;gap:12px;align-items:center;margin-bottom:12px;flex-wrap:wrap}
  .input{flex:1;min-width:220px;padding:8px;border:2px solid var(--bd);border-radius:8px;font-size:14px}
  .btn{padding:8px 12px;border:1px solid var(--c1);border-radius:8px;background:var(--c1);color:#fff;cursor:pointer}
  .btn-outline{padding:8px 12px;border:1px solid var(--c1);border-radius:8px;background:transparent;color:var(--c1);cursor:pointer}
  .grid{margin-top:16px}
  table{width:100%;border-collapse:collapse;background:#fff}
  th,td{padding:10px 12px;border-bottom:1px solid #e8e8e8;text-align:left}
  .actions{display:inline-flex;gap:8px}
  .badge{display:inline-block;padding:2px 6px;border-radius:6px;font-size:12px;background:#e8e8e8;color:#505050;margin-right:6px}
  textarea.input{min-height:120px}
</style>
</head>
<body>
  <div class="container">
    <div class="row" id="row-config">
      <input id="inp-url" class="input" placeholder="Supabase URL">
      <input id="inp-key" class="input" placeholder="Supabase Anon Key">
      <input id="inp-token" class="input" placeholder="发布令牌(可选)">
      <button id="btn-save" class="btn">保存配置</button>
    </div>
    <div class="row">
      <button id="btn-load-public" class="btn">加载公共库</button>
      <button id="btn-load-requests" class="btn btn-outline">加载发布申请</button>
      <button id="btn-import-public" class="btn btn-outline">导入JSON到公共库</button>
      <button id="btn-export-public" class="btn btn-outline">导出公共库JSON</button>
    </div>
    <div class="grid">
      <h3>新增/编辑公共话术</h3>
      <div class="row">
        <select id="form-group" class="input"></select>
        <input id="form-title" class="input" placeholder="标题">
        <input id="form-note" class="input" placeholder="备注">
      </div>
      <div class="row">
        <textarea id="form-content" class="input" placeholder="内容"></textarea>
      </div>
      <div class="row">
        <input id="form-order" class="input" placeholder="排序(数字)" type="number" value="0">
        <label><input id="form-active" type="checkbox" checked> 生效</label>
        <button id="btn-pub-save" class="btn">保存到公共库</button>
        <button id="btn-pub-reset" class="btn btn-outline">重置</button>
      </div>
    </div>
    <div class="grid">
      <h3>公共库</h3>
      <table id="tbl-public"><thead><tr><th>分组</th><th>标题</th><th>备注</th><th>操作</th></tr></thead><tbody></tbody></table>
    </div>
    <div class="grid">
      <h3>发布申请</h3>
      <table id="tbl-requests"><thead><tr><th>状态</th><th>标题</th><th>内容</th><th>操作</th></tr></thead><tbody></tbody></table>
    </div>
  </div>
  <script src="config.js"></script>
  <script type="module" src="admin.js"></script>
</body>
</html>
